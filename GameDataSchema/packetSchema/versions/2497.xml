<packetSchema version="2497">
	<blocks>
		<block name="BasicStat">
			<outputParam type="Maple.Game.BasicStat" schema="packetData" />
			<data type="short" name="type" output="Type" />
			<data type="int" name="value" output="Value" />
		</block>
		<block name="SpecialStat">
			<outputParam type="Maple.Game.SpecialStat" schema="packetData" />
			<data type="short" name="type" output="Type" />
			<data type="float" name="rate" output="Rate" />
		</block>
		<block name="BasicAndSpecialStats">
			<outputParam type="Maple.Game.BonusStats" schema="packetData" />
			<data type="short" name="statCount" />
			<array data="statCount" output="Basic">
				<useBlock name="BasicStat" version="2497" />
			</array>
			<read name="statCount" />
			<array data="statCount" output="Special">
				<useBlock name="SpecialStat" version="2497" />
			</array>
		</block>
		<block name="ItemData">
			<outputParam type="Maple.Game.ItemData" schema="packetData" />
			<blockParam name="itemId" type="unsigned int" />
			<data type="int" name="amount" output="Amount" />
			<data type="int" name="unknown">
				<enum name="Unknown" value="-1" />
			</data>
			<data type="int" name="unknown" />
			<useBlock name="ItemHeader" version="12" />
			<useBlock name="ItemCustomization" version="12" output="Customization" args="itemId" />
			<outputMember output="Stats">
				<useBlock name="BasicAndSpecialStats" version="2497" output="Static" />
				<data type="int" name="unknown">
					<enum name="Unknown" value="0" />
				</data>
				<useBlock name="BasicAndSpecialStats" version="2497" output="Random" />
				<data type="int" name="unknown">
					<enum name="Unknown" value="0" />
				</data>
				<useBlock name="BasicAndSpecialStats" version="2497" output="Empowerment1" />
				<data type="int" name="unknown">
					<enum name="Unknown" value="0" />
				</data>
			</outputMember>
			<outputMember output="Enchantment">
				<useBlock name="ItemEnchantmentHeader" version="12" />
				<data type="byte" name="basicStatCount" />
				<array data="basicStatCount" output="Basic">
					<data type="int" name="type" output="Type" />
					<data type="int" name="value" output="Value" />
				</array>
			</outputMember>
			<outputMember output="LimitBreak">
				<data type="int" name="limitBreakLevel" output="Level" />
				<outputMember output="Stats">
					<data type="int" name="statCount" />
					<array data="statCount" output="Basic">
						<useBlock name="BasicStat" version="2497" />
					</array>
					<read name="statCount" />
					<array data="statCount" output="Special">
						<useBlock name="SpecialStat" version="2497" />
					</array>
				</outputMember>
			</outputMember>
			<data type="byte" name="extraDataType" doRead="false">
				<enum name="None" value="0" />
				<enum name="TemplateBlueprint" value="1" />
				<enum name="Pet" value="2" />
				<enum name="Music" value="3" />
				<enum name="Badge" value="4" />
			</data>
			<function data="extraDataType" name="GetItemExtraDataType" params="itemId" />
			<condition data="extraDataType" value="1" comparison="equal">
				<useBlock name="ItemTemplate" version="12" output="Template" />
				<useBlock name="ItemBlueprint" version="12" output="Blueprint" />
			</condition>
			<condition data="extraDataType" value="2" comparison="equal">
				<useBlock name="ItemPet" version="12" output="Pet" />
			</condition>
			<condition data="extraDataType" value="3" comparison="equal">
				<useBlock name="ItemMusic" version="12" output="Music" />
			</condition>
			<condition data="extraDataType" value="4" comparison="equal">
				<useBlock name="ItemBadge" version="2486" output="Badge" />
			</condition>
			<useBlock name="ItemTransfer" version="12" output="ItemTransfer" />
			<useBlock name="ItemSocket" version="12" output="ItemSocket" />
			<useBlock name="ItemCouple" version="12" output="ItemCouple" />
			<useBlock name="ItemBinding" version="12" output="Binding" />
		</block>
	</blocks>
	<source name="server">
		<opcode name="FieldAddItem" value="0x2B">
			<output type="Networking.Packets.Server.FieldAddItemPacket" schemaName="packetData" />
			<data type="int" name="objectId" output="ObjectId" />
			<data type="int" name="itemId" output="ItemId" />
			<data type="int" name="amount" output="Amount" />
			<data type="long" name="uid" output="Uid" />
			<data type="Vector3S" name="position" output="Position" />
			<data type="int" name="ownerId" output="OwnerId" />
			<data type="byte" name="unknown" />
			<data type="int" name="rarity" output="Rarity">
				<enum name="None" value="0" />
				<enum name="Common" value="1" />
				<enum name="Rare" value="2" />
				<enum name="Exceptional" value="3" />
				<enum name="Epic" value="4" />
				<enum name="Legendary" value="5" />
				<enum name="Ascendant" value="6" />
			</data>
			<data type="short" name="unknown" />
			<data type="bool" name="unknown" />
			<data type="bool" name="unknown" />
			<condition data="itemId" value="90000001" value2="90000003" comparison="notBetween">
				<useBlock name="ItemData" version="2497" output="ItemData" args="itemId" />
			</condition>
		</opcode>
	</source>
	<source name="client">
	</source>
</packetSchema>