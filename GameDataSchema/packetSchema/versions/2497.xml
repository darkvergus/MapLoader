<packetSchema version="2497">
	<blocks>
		<block name="BasicStat">
			<outputParam type="Maple.Game.BasicStat" schema="packetData" />
			<data type="short" name="type" output="Type" />
			<data type="int" name="value" output="Value" />
		</block>
		<block name="SpecialStat">
			<outputParam type="Maple.Game.SpecialStat" schema="packetData" />
			<data type="short" name="type" output="Type" />
			<data type="int" name="value" output="Value" />
			<data type="bool" name="dummy" doRead="false" />
			<function data="dummy" name="StatIntToFloat" params="value" />
		</block>
		<block name="BasicAndSpecialStats">
			<outputParam type="Maple.Game.BonusStats" schema="packetData" />
			<data type="short" name="statCount" />
			<array data="statCount" output="Basic">
				<useBlock name="BasicStat" version="2497" />
			</array>
			<read name="statCount" />
			<array data="statCount" output="Special">
				<useBlock name="SpecialStat" version="2497" />
			</array>
			<data type="int" name="empowermentItemId" output="EmpowermentItemId" />
		</block>
		<block name="ItemData">
			<outputParam type="Maple.Game.ItemData" schema="packetData" />
			<blockParam name="itemId" type="unsigned int" />
			<data type="int" name="amount" output="Amount" />
			<data type="int" name="unknown">
				<enum name="Unknown" value="-1" />
			</data>
			<data type="int" name="unknown" />
			<useBlock name="ItemHeader" version="12" />
			<useBlock name="ItemCustomization" version="12" output="Customization" args="itemId" />
			<outputMember output="Stats">
				<useBlock name="BasicAndSpecialStats" version="2497" output="Static" />
				<useBlock name="BasicAndSpecialStats" version="2497" output="Random" />
				<useBlock name="BasicAndSpecialStats" version="2497" output="Empowerment1" />
			</outputMember>
			<outputMember output="Enchantment">
				<useBlock name="ItemEnchantmentHeader" version="12" />
				<data type="byte" name="basicStatCount" />
				<array data="basicStatCount" output="Basic">
					<data type="int" name="type" output="Type" />
					<data type="int" name="value" output="Value" />
				</array>
			</outputMember>
			<outputMember output="LimitBreak">
				<data type="int" name="limitBreakLevel" output="Level" />
				<outputMember output="Stats">
					<data type="int" name="statCount" />
					<array data="statCount" output="Basic">
						<useBlock name="BasicStat" version="2497" />
					</array>
					<read name="statCount" />
					<array data="statCount" output="Special">
						<useBlock name="SpecialStat" version="2497" />
					</array>
				</outputMember>
			</outputMember>
			<data type="byte" name="extraDataType" doRead="false">
				<enum name="None" value="0" />
				<enum name="UgcBlueprint" value="1" />
				<enum name="Pet" value="2" />
				<enum name="Music" value="3" />
				<enum name="Badge" value="4" />
			</data>
			<function data="extraDataType" name="GetItemExtraDataType" params="itemId" />
			<condition data="extraDataType" value="1" comparison="equal">
				<useBlock name="ItemUgc" version="12" output="Ugc" />
				<useBlock name="ItemBlueprint" version="12" output="Blueprint" />
			</condition>
			<condition data="extraDataType" value="2" comparison="equal">
				<useBlock name="ItemPet" version="12" output="Pet" />
			</condition>
			<condition data="extraDataType" value="3" comparison="equal">
				<useBlock name="ItemMusic" version="12" output="Music" />
			</condition>
			<condition data="extraDataType" value="4" comparison="equal">
				<useBlock name="ItemBadge" version="2486" output="Badge" />
			</condition>
			<useBlock name="ItemTransfer" version="12" output="ItemTransfer" />
			<useBlock name="ItemSocket" version="12" output="ItemSocket" />
			<useBlock name="ItemCouple" version="12" output="ItemCouple" />
			<useBlock name="ItemBinding" version="12" output="Binding" />
		</block>
		<block name="EquipmentData">
			<outputParam type="Maple.Game.EquipmentData" schema="packetData" />
			<data type="int" name="itemId" output="ItemId" />
			<data type="long" name="itemInstanceId" output="ItemInstanceId" />
			<data type="byte" name="slot" output="Slot" />
			<data type="int" name="rarity" output="Rarity">
				<enum name="None" value="0" />
				<enum name="Common" value="1" />
				<enum name="Rare" value="2" />
				<enum name="Exceptional" value="3" />
				<enum name="Epic" value="4" />
				<enum name="Legendary" value="5" />
				<enum name="Ascendant" value="6" />
			</data>
			<useBlock name="ItemData" version="2497" output="Data" args="itemId" />
		</block>
		<block name="CharacterEquipmentItems">
			<outputParam type="Maple.Game.CharacterEquipment" schema="packetData" />
			<data type="byte" name="equipmentCount" />
			<array data="equipmentCount" output="Equipment">
				<useBlock name="EquipmentData" version="2497" />
			</array>
		</block>
		<block name="CharacterEquipmentBadges">
			<outputParam type="Maple.Game.CharacterEquipment" schema="packetData" />
			<data type="byte" name="badgeCount" />
			<array data="badgeCount" output="Badges">
				<data type="byte" name="slot" output="Slot" />
				<data type="int" name="itemId" output="ItemId" />
				<data type="long" name="itemInstanceId" output="ItemInstanceId" />
				<data type="int" name="rarity" output="Rarity">
					<enum name="None" value="0" />
					<enum name="Common" value="1" />
					<enum name="Rare" value="2" />
					<enum name="Exceptional" value="3" />
					<enum name="Epic" value="4" />
					<enum name="Legendary" value="5" />
					<enum name="Ascendant" value="6" />
				</data>
				<useBlock name="ItemData" version="2497" output="Data" args="itemId" />
			</array>
		</block>
		<block name="CharacterEquipmentSkins">
			<outputParam type="Maple.Game.CharacterEquipment" schema="packetData" />
			<data type="bool" name="hasSkin" output="HasSkin" />
			<condition data="hasSkin" value="1" comparison="equal">
				<data type="long" name="unknown" />
				<data type="long" name="unknown" />
				<data type="byte" name="skinCount" />
				<array data="skinCount" output="Skins">
					<useBlock name="EquipmentData" version="2497" />
				</array>
			</condition>
		</block>
		<block name="CharacterEquipmentFashion">
			<outputParam type="Maple.Game.CharacterEquipment" schema="packetData" />
			<data type="bool" name="hasFashion" output="HasFashion" />
			<condition data="hasFashion" value="1" comparison="equal">
				<data type="long" name="unknown" />
				<data type="long" name="unknown" />
				<data type="byte" name="fashionCount" />
				<array data="fashionCount" output="Fashion">
					<useBlock name="EquipmentData" version="2497" />
				</array>
			</condition>
		</block>
		<block name="CharacterListEntry">
			<outputParam type="Maple.Game.CharacterListEntry" schema="packetData" />
			<useBlock name="CharacterData" version="13" output="Character" />
			<data type="wstring" name="profileUrl" output="ProfileUrl" />
			<data type="long" name="deleteTime" output="DeleteTime" />
			<useBlock name="CharacterEquipmentItems" version="2497" output="Equipment" />
			<useBlock name="CharacterEquipmentBadges" version="2497" output="Equipment" />
			<useBlock name="CharacterEquipmentSkins" version="2497" output="Equipment" />
		</block>
		<block name="CharacterDetailsSpecialStats">
			<outputParam type="Maple.Game.ActorStats" schema="packetData" />
			<data type="int" name="specialStatCount" />
			<array data="specialStatCount" output="Special">
				<data type="short" name="type" output="Type" />
				<data type="int" name="value" output="Value" />
				<data type="bool" name="dummy" doRead="false" />
				<function data="dummy" name="StatIntToFloat" params="value" />
			</array>
		</block>
	</blocks>
	<source name="server">
		<opcode name="CharacterList" value="0xC">
			<data type="byte" name="mode">
				<enum name="Load" value="0" />
				<enum name="AddItem" value="1" />
				<enum name="DeleteItem" value="2" />
				<enum name="Unknown3" value="3" />
				<enum name="Unknown4" value="4" />
				<enum name="DeletePending" value="5" />
				<enum name="CancelDelete" value="6" />
				<enum name="ChangeName" value="7" />
			</data>
			<condition data="mode" value="0" comparison="equal">
				<output type="Networking.Packets.Server.CharacterListLoadPacket" schemaName="packetData" />
				<data type="byte" name="count" />
				<array data="count" output="Characters">
					<useBlock name="CharacterListEntry" version="2497" />
				</array>
			</condition>
			<condition data="mode" value="1" comparison="equal">
				<output type="Networking.Packets.Server.CharacterListAddPacket" schemaName="packetData" />
				<useBlock name="CharacterListEntry" version="2497" output="Character" />
			</condition>
			<condition data="mode" value="2" comparison="equal">
				<output type="Networking.Packets.Server.CharacterListDeletePacket" schemaName="packetData" />
				<data type="int" name="unknown" />
				<data type="long" name="characterId" output="CharacterId" />
			</condition>
			<condition data="mode" value="3" comparison="equal">
			</condition>
			<condition data="mode" value="4" comparison="equal">
				<data type="byte" name="unknown" />
			</condition>
			<condition data="mode" value="5" comparison="equal">
				<output type="Networking.Packets.Server.CharacterListDeletePendingPacket" schemaName="packetData" />
				<data type="long" name="characterId" output="CharacterId" />
				<data type="int" name="messageId" output="MessageId" />
				<data type="long" name="deleteTime" output="DeleteTime" />
			</condition>
			<condition data="mode" value="6" comparison="equal">
				<output type="Networking.Packets.Server.CharacterListCancelDeletePacket" schemaName="packetData" />
				<data type="long" name="characterId" output="CharacterId" />
				<data type="int" name="messageId" output="MessageId" />
			</condition>
			<condition data="mode" value="7" comparison="equal">
				<output type="Networking.Packets.Server.CharacterListChangeNamePacket" schemaName="packetData" />
				<data type="int" name="confirm" output="Confirm" />
			</condition>
		</opcode>
		<opcode name="FieldAddPlayer" value="0x17">
			<output type="Networking.Packets.Server.FieldAddPlayerPacket" schemaName="packetData" />
			<data type="int" name="actorId" output="ActorId" />
			<useBlock name="CharacterData" version="13" output="Character" />
			<useBlock name="SkillTreeData" version="2493" output="SkillTree" />
			<data type="Vector3S" name="position" output="Position" />
			<data type="Vector3S" name="Rotation" output="Rotation" />
			<data type="byte" name="unknown" />
			<outputMember output="Stats">
				<data type="byte" name="statCount" />
				<condition data="statCount" value="35" comparison="equal">
					<data type="byte" name="basicStatCount" doRead="false" value="5" />
					<arraySize data="basicStatCount" output="Basic" />
					<data type="short" name="health" doRead="false" value="4" output="Basic[0].Type" />
					<data type="short" name="attackSpeed" doRead="false" value="13" output="Basic[1].Type" />
					<data type="short" name="moveSpeed" doRead="false" value="14" output="Basic[2].Type" />
					<data type="short" name="mountMoveSpeed" doRead="false" value="22" output="Basic[3].Type" />
					<data type="short" name="jumpHeight" doRead="false" value="32" output="Basic[4].Type" />
					<data type="ulong" name="health" output="Basic[0].Max" />
					<data type="uint" name="attackSpeed" output="Basic[1].Max" />
					<data type="uint" name="moveSpeed" output="Basic[2].Max" />
					<data type="uint" name="mountMoveSpeed" output="Basic[3].Max" />
					<data type="uint" name="jumpHeight" output="Basic[4].Max" />
					<data type="ulong" name="health" output="Basic[0].Base" />
					<data type="uint" name="attackSpeed" output="Basic[1].Base" />
					<data type="uint" name="moveSpeed" output="Basic[2].Base" />
					<data type="uint" name="mountMoveSpeed" output="Basic[3].Base" />
					<data type="uint" name="jumpHeight" output="Basic[4].Base" />
					<data type="ulong" name="health" output="Basic[0].Current" />
					<data type="uint" name="attackSpeed" output="Basic[1].Current" />
					<data type="uint" name="moveSpeed" output="Basic[2].Current" />
					<data type="uint" name="mountMoveSpeed" output="Basic[3].Current" />
					<data type="uint" name="jumpHeight" output="Basic[4].Current" />
				</condition>
				<condition data="statCount" value="35" comparison="notEqual">
					<array data="statCount" output="Basic">
						<data type="byte" name="statType" output="Type" />
						<condition data="statType" value="4" comparison="equal">
							<data type="ulong" name="max" output="Max" />
							<data type="ulong" name="base" output="Base" />
							<data type="ulong" name="current" output="Current" />
						</condition>
						<condition data="statType" value="4" comparison="notEqual">
							<data type="uint" name="max" output="Max" />
							<data type="uint" name="base" output="Base" />
							<data type="uint" name="current" output="Current" />
						</condition>
					</array>
				</condition>
			</outputMember>
			<data type="bool" name="inBattle" output="InBattle" />
			<data type="byte" name="unknown" />
			<useBlock name="CubeItemData" version="12" output="HeldCube" />
			<data type="int" name="unknown" />
			<data type="Color4I" name="skinColorPrimary" output="SkinColor.Primary" />
			<data type="Color4I" name="skinColorSecondary" output="SkinColor.Secondary" />
			<data type="wstring" name="profileUrl" output="ProfileUrl" />
			<data type="bool" name="onMount" output="OnMount" />
			<condition data="onMount" value="1" comparison="equal">
				<useBlock name="MountData" version="13" output="Mount" />
			</condition>
			<data type="int" name="unknown" />
			<data type="long" name="timestamp" output="Timestamp" />
			<data type="int" name="weeklyArchitectScore" output="WeeklyArchitectScore" />
			<data type="int" name="architectScore" output="ArchitectScore" />
			<data type="bool" name="isDeflated" />
			<data type="int" name="bufferSize" />
			<buffer sizeData="bufferSize" deflatedData="isDeflated" output="Equipment">
				<useBlock name="CharacterEquipmentItems" version="2497" />
				<useBlock name="CharacterEquipmentSkins" version="2497" />
			</buffer>
			<read name="isDeflated" />
			<read name="bufferSize" />
			<buffer sizeData="bufferSize" deflatedData="isDeflated" output="Equipment">
				<useBlock name="CharacterEquipmentFashion" version="2497" />
			</buffer>
			<read name="isDeflated" />
			<read name="bufferSize" />
			<buffer sizeData="bufferSize" deflatedData="isDeflated" output="Equipment">
				<useBlock name="CharacterEquipmentBadges" version="2497" />
			</buffer>
			<data type="short" name="effectCount" />
			<array data="effectCount" output="Effects">
				<data type="int" name="targetId" output="TargetId" />
				<data type="int" name="effectInstanceId" output="InstanceId" />
				<data type="int" name="sourceId" output="SourceId" />
				<useBlock name="EffectStats" version="12" output="Stats" />
				<data type="bool" name="enabled" output="Enabled" />
				<data type="long" name="shieldHealth" output="ShieldHealth" />
			</array>
			<data type="int" name="unknown" />
			<data type="int" name="unknown" />
			<data type="byte" name="unknown" />
			<data type="int" name="unknown" />
			<data type="byte" name="unknown" />
			<data type="byte" name="unknown" />
			<data type="int" name="titleId" output="TitleId" />
			<data type="short" name="insigniaId" output="InsigniaId" />
			<data type="byte" name="insigniaValue" output="InsigniaValue" />
			<data type="int" name="petActorId" output="Pet.ActorId" />
			<data type="bool" name="hasPet" output="HasPet" />
			<condition data="hasPet" value="1" comparison="equal">
				<data type="int" name="petItemId" output="Pet.ItemId" />
				<data type="long" name="petItemInstanceId" output="Pet.ItemInstanceId" />
				<data type="int" name="petRarity" output="Pet.Rarity">
					<enum name="None" value="0" />
					<enum name="Common" value="1" />
					<enum name="Rare" value="2" />
					<enum name="Exceptional" value="3" />
					<enum name="Epic" value="4" />
					<enum name="Legendary" value="5" />
					<enum name="Ascendant" value="6" />
				</data>
				<useBlock name="ItemData" version="2497" output="Pet.ItemData" args="petItemId" />
			</condition>
			<data type="long" name="premiumExpirationTime" output="PremiumExpirationTime" />
			<data type="int" name="unknown" />
			<data type="byte" name="unknown" />
			<!--
			<data type="int" name="mushkingTailKillCount" />
			<data type="int" name="unknownCount" />
			<array data="unknownCount" output="UnknownData">
				<data type="int" name="unknown" />
				<data type="wstring" name="unknown" />
			</array>
			-->
			<data type="short" name="unknown" />
		</opcode>
		<opcode name="UserChatItemLink" value="0x1E">
			<output type="Networking.Packets.Server.UserChatItemLinkPacket" schemaName="packetData" />
			<data type="int" name="count" />
			<array data="count" output="Items">
				<data type="long" name="itemInstanceId" output="ItemInstanceId" />
				<data type="int" name="itemId" output="ItemId" />
				<data type="int" name="rarity" output="Rarity" />
				<useBlock name="ItemData" version="2497" output="ItemData" args="itemId" />
			</array>
		</opcode>
		<opcode name="FurnishingStorage" value="0x23">
			<data type="byte" name="mode">
				<enum name="StartList" value="1" />
				<enum name="Count" value="2" />
				<enum name="Add" value="3" />
				<enum name="Remove" value="4" />
				<enum name="Purchase" value="5" />
				<enum name="Update" value="7" />
				<enum name="EndList" value="8" />
			</data>
			<condition data="mode" value="1" comparison="equal">
				<output type="Networking.Packets.Server.FurnishingStorageStartListPacket" schemaName="packetData" />
			</condition>
			<condition data="mode" value="2" comparison="equal">
				<output type="Networking.Packets.Server.FurnishingStorageCountPacket" schemaName="packetData" />
				<data type="int" name="count" output="Count" />
			</condition>
			<condition data="mode" value="3" comparison="equal">
				<output type="Networking.Packets.Server.FurnishingStorageAddPacket" schemaName="packetData" />
				<data type="int" name="itemId" output="ItemId" />
				<data type="long" name="itemInstanceId" output="ItemInstanceId" />
				<data type="byte" name="rarity" output="Rarity" />
				<data type="int" name="slot" output="Slot" />
				<useBlock name="ItemData" version="2497" output="ItemData" args="itemId" />
			</condition>
			<condition data="mode" value="4" comparison="equal">
				<output type="Networking.Packets.Server.FurnishingStorageRemovePacket" schemaName="packetData" />
				<data type="long" name="itemInstanceId" output="ItemInstanceId" />
			</condition>
			<condition data="mode" value="5" comparison="equal">
				<output type="Networking.Packets.Server.FurnishingStoragePurchasePacket" schemaName="packetData" />
				<data type="long" name="itemInstanceId" output="ItemInstanceId" />
				<data type="int" name="count" output="Count" />
			</condition>
			<condition data="mode" value="7" comparison="equal">
				<output type="Networking.Packets.Server.FurnishingStorageUpdatePacket" schemaName="packetData" />
				<data type="long" name="itemInstanceId" output="ItemInstanceId" />
				<data type="int" name="count" output="Count" />
			</condition>
			<condition data="mode" value="8" comparison="equal">
				<output type="Networking.Packets.Server.FurnishingStorageEndListPacket" schemaName="packetData" />
			</condition>
		</opcode>
		<opcode name="ItemPutOn" value="0x25">
			<output type="Networking.Packets.Server.ItemPutOnPacket" schemaName="packetData" />
			<data type="int" name="actorId" output="ActorId" />
			<data type="int" name="itemId" output="ItemId" />
			<data type="long" name="itemInstanceId" output="ItemInstanceId" />
			<data type="byte" name="slot" output="Slot" />
			<data type="int" name="rarity" output="Rarity" />
			<data type="byte" name="equipTab" output="EquipTab" />
			<useBlock name="ItemData" version="2497" output="ItemData" args="itemId" />
		</opcode>
		<opcode name="ItemSkinPutOn" value="0x27">
			<output type="Networking.Packets.Server.ItemSkinPutOnPacket" schemaName="packetData" />
			<data type="int" name="actorId" output="ActorId" />
			<data type="int" name="itemId" output="ItemId" />
			<data type="long" name="itemInstanceId" output="ItemInstanceId" />
			<data type="long" name="rarity" output="Rarity" />
			<data type="long" name="slot" output="Slot" />
			<useBlock name="ItemData" version="2497" output="ItemData" args="itemId" />
		</opcode>
		<opcode name="ItemUpdate" value="0x2A">
			<output type="Networking.Packets.Server.ItemUpdatePacket" schemaName="packetData" />
			<data type="int" name="actorId" output="ActorId" />
			<data type="long" name="itemInstanceId" output="ItemInstanceId" />
			<data type="int" name="itemId" doRead="false" />
			<function data="itemId" name="GetItemIdFromInstance" params="itemInstanceId" />
			<condition data="itemId" value="0" comparison="equal">
				<discard />
			</condition>
			<useBlock name="ItemData" version="2497" output="ItemData" args="itemId" />
		</opcode>
		<opcode name="FieldAddItem" value="0x2B">
			<output type="Networking.Packets.Server.FieldAddItemPacket" schemaName="packetData" />
			<data type="int" name="objectId" output="ObjectId" />
			<data type="int" name="itemId" output="ItemId" />
			<data type="int" name="amount" output="Amount" />
			<data type="long" name="uid" output="ItemInstanceId" />
			<data type="Vector3S" name="position" output="Position" />
			<data type="int" name="ownerId" output="OwnerId" />
			<data type="byte" name="unknown" />
			<data type="int" name="rarity" output="Rarity">
				<enum name="None" value="0" />
				<enum name="Common" value="1" />
				<enum name="Rare" value="2" />
				<enum name="Exceptional" value="3" />
				<enum name="Epic" value="4" />
				<enum name="Legendary" value="5" />
				<enum name="Ascendant" value="6" />
			</data>
			<data type="short" name="unknown" />
			<data type="bool" name="unknown" />
			<data type="bool" name="unknown" />
			<condition data="itemId" value="90000001" value2="90000003" comparison="notBetween">
				<useBlock name="ItemData" version="2497" output="ItemData" args="itemId" />
			</condition>
		</opcode>
		<opcode name="CharacterInfo" value="0x78">
			<output type="Networking.Packets.Server.CharacterInfoPacket" schemaName="packetData" />
			<data type="long" name="characterId" output="CharacterId" />
			<data type="bool" name="found" output="Found" />
			<condition data="found" value="1" comparison="equal">
				<data type="long" name="notAccountId" /> <!-- time? -->
				<data type="long" name="characterId2" />
				<data type="long" name="currentTime" output="CurrentTime" />
				<!--data type="bool" name="isDeflated" /-->
				<data type="int" name="bufferSize" />
				<buffer sizeData="bufferSize" output="Details"> <!-- deflatedData="isDeflated"-->
					<useBlock name="CharacterDetailsHeader" version="12" />
					<outputMember output="Stats">
						<useBlock name="CharacterDetailsBasicStats" version="12" />
						<useBlock name="CharacterDetailsSpecialStats" version="2497" />
					</outputMember>
					<useBlock name="CharacterDetailsBody" version="12" />
					<data type="long" name="unknown" />
				</buffer>
				<!--data type="bool" name="isDeflated" /-->
				<read name="bufferSize" />
				<buffer sizeData="bufferSize" output="Equipment"> <!-- deflatedData="isDeflated"-->
					<useBlock name="CharacterEquipmentItems" version="2497" />
					<useBlock name="CharacterEquipmentSkins" version="2497" />
				</buffer>
				<!--data type="bool" name="isDeflated" /-->
				<read name="bufferSize" />
				<buffer sizeData="bufferSize" output="Equipment"> <!-- deflatedData="isDeflated"-->
					<useBlock name="CharacterEquipmentBadges" version="2497" />
				</buffer>
			</condition>
		</opcode>
		<opcode name="EnchantScroll" value="0xBF">
			<data type="byte" name="mode">
				<enum name="EnchantUi" value="0" />
				<enum name="StatUi" value="1" />
				<enum name="Results" value="3" />
				<enum name="Reward" value="4" />
			</data>
			<condition data="mode" value="0" comparison="equal">
				<output type="Networking.Packets.Server.EnchantScrollEnchantUiPacket" schemaName="packetData" />
				<useBlock name="EnchantScrollEnchantUi" version="12" />
			</condition>
			<condition data="mode" value="1" comparison="equal">
				<output type="Networking.Packets.Server.EnchantScrollStatUiPacket" schemaName="packetData" />
				<useBlock name="EnchantScrollStatUi" version="12" />
			</condition>
			<condition data="mode" value="3" comparison="equal">
				<data type="short" name="result">
					<enum name="Success" value="0" />
					<enum name="InvalidScroll" value="1" />
					<enum name="InvalidItem" value="2" />
					<enum name="BreakingItem" value="3" />
					<enum name="InvalidLevel" value="4" />
					<enum name="InvalidSlot" value="5" />
					<enum name="InvalidRank" value="6" />
					<enum name="InvalidGrade" value="7" />
					<enum name="NotBreaking" value="8" />
				</data>
				<condition data="result" value="0" comparison="equal">
					<output type="Networking.Packets.Server.EnchantScrollSuccessPacket" schemaName="packetData" />
					<data type="long" name="itemInstanceId" output="ItemInstanceId" />
					<data type="int" name="itemId" doRead="false" />
					<function data="itemId" name="GetItemIdFromInstance" params="itemInstanceId" />
					<condition data="itemId" value="0" comparison="equal">
						<discard />
					</condition>
					<useBlock name="ItemData" version="2497" output="ItemData" args="itemId" />
				</condition>
				<condition else="true" comparison="none">
					<output type="Networking.Packets.Server.EnchantScrollResultPacket" schemaName="packetData" />
					<data type="short" name="resultData" output="Result" doRead="false" />
					<function data="resultData" name="Copy" params="result" />
				</condition>
			</condition>
			<condition data="mode" value="4" comparison="equal">
				<output type="Networking.Packets.Server.EnchantScrollRewardPacket" schemaName="packetData" />
				<data type="uint" name="count" />
				<array data="count" output="Data">
					<data type="int" name="itemId" output="ItemId" />
					<data type="short" name="unknown" />
				</array>
			</condition>
		</opcode>
		<opcode name="BindItem" value="0x103">
			<output type="Networking.Packets.Server.BindItemPacket" schemaName="packetData" />
			<data type="long" name="itemInstanceId" output="ItemInstanceId" />
			<data type="int" name="itemId" doRead="false" />
			<function data="itemId" name="GetItemIdFromInstance" params="itemInstanceId" />
			<condition data="itemId" value="0" comparison="equal">
				<discard />
			</condition>
			<useBlock name="ItemData" version="2497" output="ItemData" args="itemId" />
		</opcode>
	</source>
	<source name="client">
	</source>
</packetSchema>